<!--
  Generated template for the PostPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-content >

  <ion-item class="item-no-border">
    <ion-avatar item-left (click)="viewUser(post.user_id)">
      <img src="{{ post.owner.imgs.profile }}">
    </ion-avatar>
    <h2 ion-text color="primary"  class="post-author" (click)="viewUser(post.user_id)">{{ post.owner.title }}</h2>
    <span class="post-time">
      <ion-icon name="timer-outline"></ion-icon>
      {{ post.time }}
    </span>
  </ion-item>
    <div padding>
    <!--<img class="full-image" *ngIf="post.image" src="{{ post.image }}">-->
    <!--<p>{{ post.content}}</p>-->

    <!--<p>-->
      <!--<a (click)="toggleLike(post)" class="subdued">-->
        <!--<ion-icon name="thumbs-up" color="primary"  *ngIf="post.liked"></ion-icon>-->
        <!--<ion-icon name="thumbs-up" color="gray"  *ngIf="!post.liked"></ion-icon>-->
        <!--{{ post.likeCount}}-->
      <!--</a>-->
      <!--<a class="subdued">-->
        <!--<ion-icon name="chatboxes" color="primary" ></ion-icon>-->
        <!--{{ post.commentCount}}-->
      <!--</a>-->
    <!--</p>-->
    <ion-item    class="post-comment" *ngFor="let comment of post.comments" (press)="showDeleteCommentDialog(comment)">
      <ion-avatar item-left (click)="viewUser(comment.user_id)">
        <img src="{{ comment.owner.imgs.profile }}">
      </ion-avatar>

      <h3 ion-text color="primary"  class="post-author">
        {{ comment.owner.title }}
      </h3>
      <p text-wrap>{{ comment.body}}</p>
      <a class="subdued like-count">
        <ion-icon name="heart" color="danger"  (click)="likeComment(comment)" *ngIf="comment.is_liked"></ion-icon>
        <ion-icon name="heart" color="gray"  (click)="unlikeComment(comment)"*ngIf="!comment.is_liked"></ion-icon>
        {{ comment.total_like}}
      </a>
      <br>
      <a class="subdued">j'aime</a>
      <!--<span class="post-time">-->
        <!--<ion-icon name="timer-outline"></ion-icon>-->
        <!--{{ comment.date }}-->
      <!--</span>-->
    </ion-item>
      </div>

  <ion-grid class="post-actions">

       <ion-input [(ngModel)]="commentElement.body" placeholder="Votre commentaire..." ></ion-input>
    <br>
       <button (click)="commentActivity(post)"  [disabled]="!commentElement.body" ion-button>commenter</button>
  </ion-grid>

</ion-content>

