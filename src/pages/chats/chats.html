<!--
  Generated template for the ChatsPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar [color]="navBarColor" >
    <ion-buttons right>

      <button  class="toggle" icon-only  ion-button  *ngIf="!activateDelete" (click)="toggleMessages()" >
        <ion-icon name="md-apps"></ion-icon>
      </button>

      <button  class="toggle" icon-only  ion-button (click)="deleteMessage(message)" *ngIf="activateDelete">
        <ion-icon name="md-trash"></ion-icon>
      </button>
    </ion-buttons>


    <ion-title>{{pageTitle}}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-fab right bottom>
    <button ion-fab color="secondary" (click)="composeMessage()"><ion-icon name="md-create"></ion-icon></button>
  </ion-fab>
  <div class="row" *ngIf="!(inbox?.length > 0)">
    <ion-icon color="coffee" class="no-messages" name="ios-mail-open-outline">

    </ion-icon><br>
    No Message To show !
  </div>
  <ion-list class="list-full-border">
    <ion-item-sliding *ngFor="let message of inbox">

      <ion-item text-wrap (press)="selectItemTodelete()">
        <ion-avatar item-left>
          <img  height="20" width="20" *ngIf="!activateDelete"  #img src="{{ message.participant.img }}" (error)="getDefaultImage(img)" alt=""/>
          <ion-checkbox item-left *ngIf="activateDelete"   (ionChange)="selectItem($event,message)" checked="false"></ion-checkbox>


        </ion-avatar>

          <h2  ion-text color="primary" >{{message.participant.title}}</h2>
          <h6   ion-text class="to" color="dark">{{message.title}}</h6>
          <p  style="font-size: 80%">{{message.body}}</p>

      </ion-item>


      <ion-item-options>
        <button  ion-button color="danger" >
          Supprimer
        </button>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>
</ion-content>
